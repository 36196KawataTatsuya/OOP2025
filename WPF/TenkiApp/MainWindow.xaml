<Window x:Class="TenkiApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:TenkiApp"
        Title="天気アプリ" Height="700" Width="1000"
        LocationChanged="Window_LocationChanged" SizeChanged="Window_SizeChanged" Closed="Window_Closed"
        Background="#1E1E1E" Foreground="White">

    <Window.Resources>
        <SolidColorBrush x:Key="PrimaryBackground" Color="#1E1E1E"/>
        <SolidColorBrush x:Key="SecondaryBackground" Color="#252526"/>
        <SolidColorBrush x:Key="AccentColor" Color="#007ACC"/>
        <SolidColorBrush x:Key="AccentHoverColor" Color="#009DFF"/>
        <SolidColorBrush x:Key="ForegroundColor" Color="#F1F1F1"/>
        <SolidColorBrush x:Key="BorderColor" Color="#3E3E42"/>

        <Storyboard x:Key="FadeInAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0" To="1" Duration="0:0:0.4"/>
            <ThicknessAnimation Storyboard.TargetProperty="Margin" From="0,30,0,-30" To="0" Duration="0:0:0.4" DecelerationRatio="0.9"/>
        </Storyboard>

        <Style TargetType="Button">
            <Setter Property="Background" Value="{StaticResource AccentColor}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Padding" Value="20,10"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" CornerRadius="4" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="{StaticResource AccentHoverColor}"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="0.98" ScaleY="0.98" CenterX="0.5" CenterY="0.5"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="TabItem">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Grid Name="Panel">
                            <Border Name="Border" Background="Transparent" BorderBrush="Transparent" BorderThickness="0,0,0,3" Margin="0,0,0,0">
                                <ContentPresenter x:Name="ContentSite"
                                                  VerticalAlignment="Center"
                                                  HorizontalAlignment="Center"
                                                  ContentSource="Header"
                                                  Margin="25,15"/>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="Border" Property="BorderBrush" Value="{StaticResource AccentColor}"/>
                                <Setter Property="TextElement.Foreground" Value="{StaticResource AccentColor}"/>
                                <Setter Property="TextElement.FontWeight" Value="Bold"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="False">
                                <Setter Property="TextElement.Foreground" Value="#AAAAAA"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="TextElement.Foreground" Value="White"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="ListView">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontSize" Value="18"/>
        </Style>

        <Style TargetType="ListViewItem">
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="Margin" Value="0,4"/>
            <Setter Property="Padding" Value="15,12"/>
            <Setter Property="Background" Value="#2D2D30"/>
            <Setter Property="BorderThickness" Value="0"/>

            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#3E3E42"/>
                </Trigger>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="#333337"/>
                    <Setter Property="BorderBrush" Value="{StaticResource AccentColor}"/>
                    <Setter Property="BorderThickness" Value="4,0,0,0"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="GridViewColumnHeader">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#AAAAAA"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="Padding" Value="15,10"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="GridViewColumnHeader">
                        <Border Background="Transparent" Padding="{TemplateBinding Padding}">
                            <ContentPresenter/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Window.Resources>

    <Grid Background="{StaticResource PrimaryBackground}">
        <TabControl x:Name="MainTabControl" SelectionChanged="TabControl_SelectionChanged" Background="Transparent" BorderThickness="0">

            <TabItem Header="世界">
                <Grid Margin="20">
                    <ListView x:Name="ListWorld">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="都市名" DisplayMemberBinding="{Binding Name}" Width="250"/>
                                <GridViewColumn Header="天気" DisplayMemberBinding="{Binding DisplayWeather}" Width="180"/>
                                <GridViewColumn Header="気温" DisplayMemberBinding="{Binding Temperature}" Width="120"/>
                                <GridViewColumn Header="風速" DisplayMemberBinding="{Binding WindSpeed}" Width="120"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </TabItem>

            <TabItem Header="日本">
                <Grid Margin="20">
                    <ListView x:Name="ListJapan">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="都市名" DisplayMemberBinding="{Binding Name}" Width="250"/>
                                <GridViewColumn Header="天気" DisplayMemberBinding="{Binding DisplayWeather}" Width="180"/>
                                <GridViewColumn Header="気温" DisplayMemberBinding="{Binding Temperature}" Width="120"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </TabItem>

            <TabItem Header="登録地域" Name="TabSaved">
                <Grid Margin="20">
                    <TextBlock Text="右側のウィンドウで地域を追加・編集できます >" Foreground="#888888" FontSize="14" VerticalAlignment="Top" HorizontalAlignment="Right"/>
                    <ListView x:Name="ListSaved" Margin="0,35,0,0">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="都市名" DisplayMemberBinding="{Binding Name}" Width="250"/>
                                <GridViewColumn Header="天気" DisplayMemberBinding="{Binding DisplayWeather}" Width="180"/>
                                <GridViewColumn Header="気温" DisplayMemberBinding="{Binding Temperature}" Width="120"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </TabItem>

            <TabItem Header="現在地">
                <Grid x:Name="CurrentLocationContentGrid" Margin="20">
                    <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                        <TextBlock Text="現在地 (Location)" Foreground="{StaticResource AccentColor}" FontSize="18" HorizontalAlignment="Center"/>
                        <TextBlock Text="{Binding CurrentLocationName}" FontSize="60" FontWeight="Light" HorizontalAlignment="Center" Margin="0,15,0,0"/>
                        <TextBlock Text="{Binding CurrentCondition}" FontSize="32" Foreground="#CCCCCC" Margin="0,15" HorizontalAlignment="Center"/>
                        <TextBlock Text="{Binding CurrentTemp}" FontSize="100" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center"/>

                        <Button Content="情報を更新" Click="RefreshCurrent_Click" Width="220" Margin="0,50,0,0" Height="50" FontSize="18"/>
                    </StackPanel>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>